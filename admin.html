<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin - Owen Burguer</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">

<style>
:root{
--bg:#f4f6f9;
--card:#ffffff;
--primary:#ff7a00;
--danger:#e53935;
--text:#222;
--shadow:0 8px 20px rgba(0,0,0,0.08);
}

body{
margin:0;
font-family:Poppins,sans-serif;
background:var(--bg);
color:var(--text);
}

/* BOT칍N INICIO */
.home-btn{
position:fixed;
left:15px;
bottom:20px;
background:var(--primary);
color:#fff;
padding:10px 15px;
border-radius:30px;
font-weight:600;
cursor:pointer;
box-shadow:var(--shadow);
z-index:1000;
transition:.2s;
text-decoration:none;
display:inline-block;
}
.home-btn:active{
transform:scale(.95);
}

/* LOGIN */
.login-screen{
height:100vh;
display:flex;
align-items:center;
justify-content:center;
}

.login-box{
background:var(--card);
padding:40px;
border-radius:20px;
box-shadow:var(--shadow);
text-align:center;
width:90%;
max-width:350px;
}

.login-box h2{
margin-bottom:20px;
}

input, select{
width:100%;
padding:10px;
margin:8px 0;
border-radius:8px;
border:1px solid #ccc;
}

button{
background:var(--primary);
border:none;
padding:10px 15px;
border-radius:8px;
color:#fff;
font-weight:600;
cursor:pointer;
transition:.2s;
}

button:active{transform:scale(.95);}
.btn-danger{background:var(--danger);}

/* DASHBOARD */
.dashboard{
display:none;
padding:20px;
}

.header{
display:flex;
justify-content:space-between;
align-items:center;
margin-bottom:20px;
}

.card{
background:var(--card);
padding:20px;
border-radius:20px;
box-shadow:var(--shadow);
margin-bottom:20px;
}

.product-item{
display:flex;
justify-content:space-between;
align-items:center;
padding:8px 0;
border-bottom:1px solid #eee;
}

.product-item:last-child{
border-bottom:none;
}
</style>
</head>

<body>

<!-- BOT칍N INICIO (SIN JS, 100% FUNCIONAL) -->
<a href="index.html" class="home-btn">游 Ir al Inicio</a>

<!-- LOGIN -->
<div class="login-screen" id="loginScreen">
<div class="login-box">
<h2>游댏 Admin Owen Burguer</h2>
<input type="password" id="adminPass" placeholder="Ingrese contrase침a">
<button onclick="login()">Ingresar</button>
</div>
</div>

<!-- DASHBOARD -->
<div class="dashboard" id="dashboard">

<div class="header">
<h2>Panel Administrador</h2>
<button class="btn-danger" onclick="logout()">Cerrar sesi칩n</button>
</div>

<div class="card">
<h3>Agregar Producto</h3>

<select id="categorySelect"></select>

<input type="text" id="name" placeholder="Nombre del producto">
<input type="number" id="price" placeholder="Precio USD">
<input type="text" id="desc" placeholder="Descripci칩n">
<input type="text" id="img" placeholder="URL de imagen">

<button onclick="addProduct()">Agregar</button>
</div>

<div class="card">
<h3>Productos por Categor칤a</h3>

<select id="categoryView" onchange="renderProducts()"></select>

<div id="productList"></div>
</div>

</div>

<script>

/* -------- LOGIN -------- */

function login(){
let pass=document.getElementById("adminPass").value;
if(pass==="adm2026#"){
document.getElementById("loginScreen").style.display="none";
document.getElementById("dashboard").style.display="block";
initAdmin();
}else{
alert("Contrase침a incorrecta");
}
}

function logout(){
location.reload();
}

/* -------- DATA -------- */

const defaultCategories = {
Hamburguesas:[],
Perros:[],
Bebidas:[]
};

let categories = JSON.parse(localStorage.getItem("categories")) || defaultCategories;

/* -------- INIT -------- */

function initAdmin(){
let select1=document.getElementById("categorySelect");
let select2=document.getElementById("categoryView");

select1.innerHTML="";
select2.innerHTML="";

for(let cat in categories){
select1.innerHTML+=`<option value="${cat}">${cat}</option>`;
select2.innerHTML+=`<option value="${cat}">${cat}</option>`;
}

renderProducts();
}

/* -------- ADD PRODUCT -------- */

function addProduct(){
let cat=document.getElementById("categorySelect").value;
let name=document.getElementById("name").value;
let price=parseFloat(document.getElementById("price").value);
let desc=document.getElementById("desc").value;
let img=document.getElementById("img").value;

if(!name || !price || !desc || !img){
alert("Complete todos los campos");
return;
}

categories[cat].push({name,price,desc,img});
localStorage.setItem("categories",JSON.stringify(categories));

document.getElementById("name").value="";
document.getElementById("price").value="";
document.getElementById("desc").value="";
document.getElementById("img").value="";

renderProducts();
alert("Producto agregado correctamente");
}

/* -------- RENDER PRODUCTS -------- */

function renderProducts(){
let cat=document.getElementById("categoryView").value;
let list=document.getElementById("productList");
list.innerHTML="";

categories[cat].forEach((p,i)=>{
list.innerHTML+=`
<div class="product-item">
<span>${p.name} - $${p.price}</span>
<button class="btn-danger" onclick="deleteProduct('${cat}',${i})">Eliminar</button>
</div>
`;
});
}

/* -------- DELETE -------- */

function deleteProduct(cat,index){
categories[cat].splice(index,1);
localStorage.setItem("categories",JSON.stringify(categories));
renderProducts();
}

</script>

</body>
</html>